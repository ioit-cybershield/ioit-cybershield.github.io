---
// src/pages/events/[slug].astro

import Layout from "../../layouts/Layout.astro";
import LenisProvider from "../../providers/lenis-provider";
import Navbar from "../../components/general/Navbar";
import Footer from "../../components/general/Footer";
import EventDetailPage from "@/components/events/EventsDetail";
// import { MOCK_EVENTS } from "@/mock/events-data";
import { getAllEventDetailSlugs, getEventDetailBySlug } from "@/mock/event-detail-data";
import { navbarContent } from "@/content/nav";
import { footerContent } from "@/content/footer";


// Required in static mode for dynamic routes
export async function getStaticPaths() {
  const slugs = getAllEventDetailSlugs();
  return slugs.map((slug) => ({
    params: { slug }
  }));
}


const { slug } = Astro.params;
const event = getEventDetailBySlug(slug);
---

<Layout>
  <LenisProvider client:load>
    <Navbar navbarContent={navbarContent} client:idle />

    <EventDetailPage event={event!}  client:load />

    <Footer footerContent={footerContent} client:visible={{rootMargin:"100px"}} />
  </LenisProvider>
</Layout>
